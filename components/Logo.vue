<template>
  <nuxt-link to="/" @click.native="newPage('/')" class="logo" :class="[cssClass, {'active': scroll > 0}]">
    <svg width="88" height="37" viewBox="0 0 88 37" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M34.2316 20.5487L31.442 17.8537C31.1908 17.6104 31.0555 17.284 31.0555 16.9383L31.1199 1.28029C31.1199 0.576132 31.6997 0 32.4084 0H54.1389C54.8476 0 55.4274 0.576132 55.4274 1.28029V3.508C55.4274 4.21216 54.8476 4.7883 54.1389 4.7883H37.5302C37.1758 4.7883 36.8859 5.07636 36.8859 5.42844V11.305C36.8859 11.7211 37.2789 12.0284 37.6848 11.9259C38.8509 11.6379 39.9719 11.3434 41.1122 11.1257C45.9312 10.1911 50.1961 11.2346 53.6944 14.6722C58.3974 19.294 62.6623 23.647 66.7598 27.6095C68.0354 28.845 69.4849 30.0357 71.0762 30.8102C74.6454 32.5514 79.0263 31.2648 81.2554 28.0832C83.317 25.145 82.8724 20.856 80.2246 18.2826C77.7829 15.9076 73.1249 15.4531 70.0905 17.4504C68.8987 18.2314 67.8421 19.8381 66.6502 20.856C66.1413 21.2913 65.3746 21.2657 64.8979 20.792L62.1212 18.0393C61.8764 17.7961 61.7411 17.476 61.7411 17.1303V1.2995C61.7411 0.595336 62.3209 0.0192044 63.0296 0.0192044H84.6828C85.3914 0.0192044 85.9713 0.595336 85.9713 1.2995V3.61683C85.9713 4.32099 85.3914 4.89712 84.6828 4.89712H68.0869C67.7326 4.89712 67.4427 5.18519 67.4427 5.53727V11.209C67.4427 11.6123 67.8163 11.9131 68.2093 11.8363C69.8135 11.5226 71.4112 11.1706 73.0219 10.9657C79.0327 10.2231 84.541 13.219 86.8474 18.4042C89.199 23.6854 87.8654 29.9717 83.6391 33.5501C78.8845 37.5702 72.616 38.1783 67.4749 34.6319C64.0797 32.289 61.1097 29.3635 57.7532 26.5277C57.1025 27.7824 56.5549 29.005 55.8591 30.1445C51.4717 37.2949 42.8581 39.2922 36.1386 34.0302C30.4692 29.5876 25.6245 24.1719 20.1934 19.4156C18.5377 17.9625 16.27 16.7526 14.1053 16.3621C10.4524 15.7028 7.58549 17.5976 6.1617 20.7215C4.78301 23.7494 5.54966 27.2446 8.08156 29.4979C10.8067 31.9241 14.5176 32.321 17.7002 30.3237C19.1626 29.4083 19.8713 28.8898 21.7976 27.3471C22.3066 26.9438 23.0346 26.9758 23.5049 27.4239L24.9931 28.8578C25.4698 29.3187 25.5214 30.0741 25.0962 30.5862C20.2514 36.4691 15.4904 37.9863 9.76305 36.3283C4.38357 34.7728 0.588945 30.4262 0.0671034 25.2538C-0.467623 19.9278 2.22534 14.6978 7.00567 12.3484C12.1983 9.79424 17.4812 9.94147 21.8749 13.7119C26.6617 17.8153 30.9266 22.4947 35.4557 26.8797C36.7442 28.128 38.0456 29.4403 39.5725 30.3685C43.1609 32.5578 47.9412 31.6424 50.4281 28.4993C52.6314 25.7083 52.4574 21.2657 50.0351 18.6411C47.3808 15.7668 42.4651 15.3315 39.0699 17.7513C38.052 18.481 37.0599 19.6525 35.9904 20.5871C35.4815 21.0352 34.7148 21.016 34.2316 20.5487Z" fill="#0096FF"/>
    </svg>
    <span class="logo-text" v-if="logoText.length > 0">{{logoText}}</span>
  </nuxt-link>
</template>
<script>
export default {
  name: 'Logo',
  props: {
    scroll: {
      type: Number,
      required: false,
      default: 0
    },
    cssClass: {
      type: String,
      required: false,
      default: ''
    },
    logoText: {
      type: String,
      required: false,
      default: ''
    }
  },
  methods: {
    newPage (slug) { 
      if (window.location.pathname === slug) return false
      this.$store.commit('page/updateLoaded', false) 
    }
  }
}
</script>
<style lang="stylus">
@import '~assets/css/functions.styl'
.logo
  text-decoration none
  display flex
  align-items center
  justify-content space-between
  z-index 1000
  svg path
    transitions(.2s)
    fill #fff
  &.active
    svg path
      transitions(.2s)
      fill #fff
  &.mobile
    display none
  span
    margin-left 20px
    font-size 20px
    font-weight bold
    color #0096ff
@media all and (max-width: 1000px)
  .logo
    &.mobile
      display block
    &.top
      position absolute
      top 40px
      left 50%
      transform translateX(-50%)
</style>
